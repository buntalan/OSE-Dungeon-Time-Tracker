<?xml version="1.0" encoding="iso-8859-1"?>

<!--
  Please see the license.html file included with this distribution for
  attribution and copyright information.
-->

<root>
	<!-- DEPRECATED (2024-08-13) - 2025-03 (Chat Announcement) -->
	<template name="masterindexitem_anchor_right">
		<anchor_listitem_right_sm>
			<script>
				function onInit()
					Debug.console("masterindexitem_anchor_right - DEPRECATED - 2024-08-13");
				end
			</script>
		</anchor_listitem_right_sm>
	</template>
	<template name="masterindexitem_link">
		<linkcontrol_record>
			<bounds>5,2,20,20</bounds>
			<script>
				function onInit()
					Debug.console("masterindexitem_link - DEPRECATED - 2024-08-13");
				end
			</script>
		</linkcontrol_record>
	</template>
	<template name="masterindexitem_link_id">
		<linkcontrol_record>
			<bounds>5,2,20,20</bounds>
			<script>
				function onInit()
					Debug.console("masterindexitem_link_id - DEPRECATED - 2024-08-13");
				end
			</script>
		</linkcontrol_record>
	</template>
	<template name="masterindexitem_idelete">
		<button_masterindexitem_idelete>
			function onInit()
				Debug.console("masterindexitem_idelete - DEPRECATED - 2024-08-13");
				if super and super.onInit then
					super.onInit();
				end
			end
		</button_masterindexitem_idelete>
	</template>
	<template name="masterindexitem_access">
		<buttoncontrol>
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-2" />
			</anchored>
			<invisible />
			<state icon="" tooltip="" />
			<state icon="record_shared" tooltipres="tooltip_shared" />
			<state icon="record_public" tooltipres="tooltip_public" />
			<script>
				function onInit()
					Debug.console("masterindexitem_access - DEPRECATED - 2024-08-13");
				end
				function onValueChanged()
					setVisible(getValue() ~= 0);
				end
				function onClickDown()
					return true;
				end
				function onClickRelease()
					if getValue() ~= 0 then
						window.unshareRecord();
					end
					return true;
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="masterindexitem_modified">
		<genericcontrol>
			<anchored width="20" height="20">
				<top />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-2" />
			</anchored>
			<icon>record_intact</icon>
			<invisible />
			<script>
				function onInit()
					Debug.console("masterindexitem_modified - DEPRECATED - 2024-08-13");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="masterindexitem_category">
		<stringc_listitem_right_noframe_static>
			<anchored width="-1">
				<sizelimits><maximum width="150" /></sizelimits>
			</anchored>
			<!-- NOTE: Script used in non-legacy template as well -->
			<script file="campaign/scripts/masterindexitem_category.lua" />
		</stringc_listitem_right_noframe_static>
	</template>
	<template name="masterindexitem_owner">
		<stringc_listitem_right_noframe_static>
			<anchored width="-1">
				<sizelimits><maximum width="200" /></sizelimits>
			</anchored>
			<script>
				function onInit()
					Debug.console("masterindexitem_owner - DEPRECATED - 2024-08-13");
				end
			</script>
		</stringc_listitem_right_noframe_static>
	</template>
	<template name="masterindexitem_name">
		<simplestring>
			<anchored position="insidetopleft" offset="30,2" height="20">
				<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
			</anchored>
			<nodrag />
			<static />
			<script file="campaign/scripts/masterindexitem_name.lua" />
		</simplestring>
	</template>

	<!-- DEPRECATED - 2024-08-13 (Long Release) -->
	<template name="close_ctbox">
		<close>
			<anchored>
				<top offset="8" />
				<right offset="-1" />
			</anchored>
		</close>
	</template>
	<template name="help_ctbox">
		<help>
			<anchored>
				<top offset="8" />
				<right offset="-25" />
			</anchored>
		</help>
	</template>
	<template name="helper_ct">
		<help_ctbox>
			<urlres>help_tool_ct</urlres>
		</help_ctbox>
	</template>
	<template name="anchor_title_ctbox">
		<genericcontrol>
			<anchored height="0">
				<top parent="title" anchor="bottom" offset="0" />
				<left parent="" anchor="left" offset="30" />
				<right parent="" anchor="right" offset="-30" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>

	<template name="frame_ct">
		<genericcontrol>
			<frame name="ct_groupbox" />
		</genericcontrol>
	</template>
	<template name="label_ct">
		<label>
			<font>sheetlabel</font>
		</label>
	</template>

	<template name="anchor_ct_label_right">
		<genericcontrol name="rightanchor">
			<anchored to="contentanchor" position="insidetopright" offset="40,0" width="0" height="0" />
			<disabled />
		</genericcontrol>
	</template>
	<template name="label_ct_right">
		<label_ct>
			<anchored to="rightanchor" position="insidetopright" width="30">
				<top />
				<right anchor="left" relation="relative" offset="-10" />
			</anchored>
			<center />
		</label_ct>
	</template>
	<template name="label_ct_header_init">
		<label_ct_right>
			<anchored width="30">
				<right offset="-15" />
			</anchored>
			<static textres="ct_label_init" />
		</label_ct_right>
	</template>
	<template name="label_ct_header_name">
		<label_ct>
			<anchored>
				<left parent="headeranchor" offset="30" />
				<top parent="rightanchor" />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
			</anchored>
			<static textres="ct_label_name" />
			<center />
		</label_ct>
	</template>

	<template name="anchor_ctbox_host_header">
		<genericcontrol name="headeranchor">
			<anchored to="contentanchor" height="20">
				<top anchor="bottom" relation="relative" offset="0" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="anchor_ct_host_label_right">
		<genericcontrol name="rightanchor">
			<anchored to="headeranchor" position="insidetopright" offset="0,0" width="0" height="0" />
			<disabled />
		</genericcontrol>
	</template>
	<template name="spacer_ct_host_header_buttons">
		<genericcontrol>
			<anchored to="rightanchor" position="insidetopright" width="105">
				<top />
				<right anchor="left" relation="relative" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="frame_ctbox_host_header_visibility">
		<frame_ct name="header_vis">
			<anchored to="headeranchor" height="35" width="40">
				<top offset="-9" />
				<left offset="-7" />
			</anchored>
		</frame_ct>
	</template>
	<template name="button_ctbox_host_header_visibility">
		<buttoncontrol name="button_global_visibility">
			<anchored to="header_vis" position="insidetopleft" offset="10,8" width="20" height="20" />
			<state icon="visibilityoff" tooltipres="ct_tooltip_shownpcallon" />
			<state icon="visibilityon" tooltipres="ct_tooltip_shownpcalloff" />
			<script>
				function onValueChanged()
					window.list.toggleVisibility();
				end
			</script>
		</buttoncontrol>
	</template>

	<template name="anchor_ctbox_client_header">
		<genericcontrol name="headeranchor">
			<anchored to="contentanchor" height="20">
				<top anchor="bottom" relation="relative" offset="0" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="anchor_ct_client_label_right">
		<genericcontrol name="rightanchor">
			<anchored to="headeranchor" position="insidetopright" offset="-3,0" width="0" height="0" />
			<disabled />
		</genericcontrol>
	</template>
	<template name="spacer_ct_client_header_buttons">
		<genericcontrol>
			<anchored to="rightanchor" position="insidetopright" width="45">
				<top />
				<right anchor="left" relation="relative" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>

	<template name="button_ct_nextturn_base">
		<buttoncontrol>
			<anchored width="33" height="26" />
			<icon normal="button_ctnextactor" pressed="button_ctnextactor_down" />
			<tooltip textres="ct_tooltip_nextactor" />
			<script>
				function onButtonPress()
					CombatManager.nextTurn();
				end
				function onDragStart(button, x, y, draginfo)
					draginfo.setType("combattrackernextactor");
					draginfo.setIcon("button_ctnextactor");
					return true;
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="button_ct_nextactor">
		<button_ct_nextturn_base>
			<anchored>
				<bottom offset="-19" />
				<left parent="contentanchor" offset="35" />
			</anchored>
		</button_ct_nextturn_base>
	</template>
	<template name="button_ct_endturn">
		<button_ct_nextturn_base>
			<anchored width="33" height="26">
				<bottom offset="-19" />
				<left parent="contentanchor" offset="2" />
			</anchored>
		</button_ct_nextturn_base>
	</template>
	<template name="button_ct_nextround_base">
		<buttoncontrol>
			<anchored width="33" height="26" />
			<icon normal="button_ctnextround" pressed="button_ctnextround_down" />
			<tooltip textres="ct_tooltip_nextround" />
			<script>
				function onInit()
					if allowmulti then
						registerMenuItem(Interface.getString("ct_menu_round5"), "num5", 4);
						registerMenuItem(Interface.getString("ct_menu_round10"), "num10", 5);
						registerMenuItem(Interface.getString("ct_menu_round15"), "num15", 6);
						registerMenuItem(Interface.getString("ct_menu_round20"), "num20", 7);
					end
				end
				function onMenuSelection(selection)
					if selection == 4 then
						CombatManager.nextRound(5);
					elseif selection == 5 then
						CombatManager.nextRound(10);
					elseif selection == 6 then
						CombatManager.nextRound(15);
					elseif selection == 7 then
						CombatManager.nextRound(20);
					end
				end
				function onButtonPress()
					CombatManager.nextRound(1);
				end
				function onDragStart(button, x, y, draginfo)
					draginfo.setType("combattrackernextround");
					draginfo.setIcon("button_ctnextround");
					return true;
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="button_ct_nextround">
		<button_ct_nextround_base>
			<anchored>
				<bottom offset="-19" />
				<right parent="contentanchor" />
			</anchored>
			<allowmulti />
		</button_ct_nextround_base>
	</template>

	<template name="button_ct_setactive">
		<genericcontrol>
			<anchored width="33" height="40">
				<bottom offset="-13" />
				<left parent="contentanchor" />
			</anchored>
			<activeicon>ct_active</activeicon>
			<cursor hover="hand" />
			<script>
				function onInit()
					widget = addBitmapWidget(activeicon[1]);
				end

				function onDragStart(button, x, y, draginfo)
					draginfo.setType("combattrackeractivation");
					draginfo.setIcon(activeicon[1]);
					widget.setVisible(false);

					return true;
				end

				function onDragEnd(draginfo)
					widget.setVisible(true);
				end
			</script>
		</genericcontrol>
	</template>
	<template name="button_ct_menu">
		<buttoncontrol>
			<bounds>120,-45,50,26</bounds>
			<icon normal="button_menu" pressed="button_menu_down" />
			<tooltip textres="ct_tooltip_menu" />
			<script file="ct/scripts/ct_menu.lua" />
		</buttoncontrol>
	</template>

	<template name="label_ct_host_rounds">
		<label_ct>
			<anchored height="20">
				<bottom offset="-22" />
				<right parent="contentanchor" offset="-80" />
			</anchored>
			<static textres="ct_label_round" />
			<center />
		</label_ct>
	</template>
	<template name="number_ct_host_rounds">
		<simplenumber name="round">
			<anchored width="40" height="25">
				<bottom offset="-20" />
				<right parent="contentanchor" offset="-35" />
			</anchored>
			<frame name="ct_groupbox" offset="3,3,3,3" />
		</simplenumber>
	</template>
	<template name="label_ct_client_rounds">
		<label_ct>
			<anchored height="20">
				<bottom offset="-22" />
				<right parent="contentanchor" offset="-45" />
			</anchored>
			<static textres="ct_label_round" />
			<center />
		</label_ct>
	</template>
	<template name="number_ct_client_rounds">
		<simplenumber name="round">
			<anchored width="40" height="25">
				<bottom offset="-20" />
				<right parent="contentanchor" />
			</anchored>
			<frame name="ct_groupbox" offset="3,3,3,3" />
		</simplenumber>
	</template>

	<template name="button_ct_friendfoe">
		<genericcontrol>
			<anchored width="20" height="20" />
			<cursor hover="hand" />
			<script>
				function onDragStart(button, x, y, draginfo)
					draginfo.setType("combattrackerff");
					draginfo.setIcon(icon[1]);
					draginfo.setStringData(value[1]);
					return true;
				end
			</script>
		</genericcontrol>
	</template>
	<template name="button_ct_faction_friend">
		<button_ct_friendfoe>
			<anchored>
				<bottom offset="-23" />
				<left anchor="center" offset="-35" />
			</anchored>
			<icon>ct_faction_friend</icon>
			<value>friend</value>
			<tooltip textres="ct_tooltip_factionfriend" />
		</button_ct_friendfoe>
	</template>
	<template name="button_ct_faction_neutral">
		<button_ct_friendfoe>
			<anchored>
				<bottom offset="-23" />
				<left anchor="center" offset="-10" />
			</anchored>
			<icon>ct_faction_neutral</icon>
			<value>neutral</value>
			<tooltip textres="ct_tooltip_factionneutral" />
		</button_ct_friendfoe>
	</template>
	<template name="button_ct_faction_foe">
		<button_ct_friendfoe>
			<anchored>
				<bottom offset="-23" />
				<left anchor="center" offset="15" />
			</anchored>
			<icon>ct_faction_foe</icon>
			<value>foe</value>
			<tooltip textres="ct_tooltip_factionfoe" />
		</button_ct_friendfoe>
	</template>

	<template name="list_ctbox_host">
		<windowlist name="list">
			<anchored to="contentanchor">
				<top anchor="bottom" relation="relative" offset="5" />
				<left offset="-30" />
				<right offset="10" />
				<bottom parent="" offset="-55" />
			</anchored>
			<datasource>.list</datasource>
			<class>ct_entry</class>
			<childfocus>name</childfocus>
			<allowcreate />
			<empty font="list-empty-ct" textres="ct_emptylist" />
			<script file="ct/scripts/ct.lua" />
		</windowlist>
	</template>
	<template name="list_ctbox_client">
		<windowlist name="list">
			<anchored to="contentanchor">
				<top anchor="bottom" relation="relative" offset="5" />
				<left offset="-30" />
				<right offset="10" />
				<bottom parent="" offset="-55" />
			</anchored>
			<datasource>.list</datasource>
			<class>client_ct_entry</class>
			<script file="ct/scripts/clientct.lua" />
		</windowlist>
	</template>

	<!-- DEPRECATED - 2024-08-13 (Short Release) - 2025-03 (Chat Announcement) -->
	<template name="frame_record_content">
		<genericcontrol name="contentframe">
			<anchored>
				<top parent="header" anchor="bottom" offset="15" />
				<left offset="35" />
				<right offset="-35" />
				<bottom offset="-32" />
			</anchored>
			<frame name="groupbox" offset="20,17,20,17" />
			<disabled />
			<script>
				function onInit()
					Debug.console("frame_record_content - DEPRECATED - 2024-08-13");
					ChatManager.SystemMessage("frame_record_content - DEPRECATED - 2024-08 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="frame_record_content_tabbed">
		<genericcontrol name="contentframe">
			<anchored>
				<top parent="header" anchor="bottom" offset="15" />
				<left offset="35" />
				<right offset="-45" />
				<bottom offset="-32" />
			</anchored>
			<frame name="groupbox" offset="20,17,24,17" />
			<disabled />
			<script>
				function onInit()
					Debug.console("frame_record_content_tabbed - DEPRECATED - 2024-08-13");
					ChatManager.SystemMessage("frame_record_content_tabbed - DEPRECATED - 2024-08 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>

	<!-- DEPRECATED - 2024-03-05 (Long Release) -->
	<script name="ReferenceManualManager">
		function addBlockFrame(s)
			Debug.console("ReferenceManualManager - DEPRECATED - 2024-03-05");
			StoryManager.addBlockFrame(s);
		end
	</script>
	<template name="button_record_locked">
		<buttoncontrol name="locked">
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right anchor="left" relation="relative" offset="0" />
			</anchored>
			<state icon="padlock_open" tooltipres="tooltip_unlock" />
			<state icon="padlock_closed" tooltipres="tooltip_lock" />
			<script file="common/scripts/button_record_locked.lua" />
		</buttoncontrol>
	</template>

	<!-- DEPRECATED - 2024-03-05 (Short Release) - 2025-03 (Chat Announcement) -->
	<template name="close_recordsheet">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="0" />
			</anchored>
			<script>
				function onInit()
					Debug.console("close_recordsheet - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("close_recordsheet - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</close>
	</template>
	<template name="close_imagebox">
		<close>
			<anchored>
				<top offset="4" />
				<right offset="-4" />
			</anchored>
			<script>
				function onInit()
					Debug.console("close_imagebox - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("close_imagebox - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</close>
	</template>
	<template name="help_imagebox">
		<help>
			<anchored>
				<top offset="4" />
				<right offset="-28" />
			</anchored>
			<script>
				function onInit()
					Debug.console("help_imagebox - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("help_imagebox - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</help>
	</template>
	<template name="close_imagepanel">
		<close>
			<anchored>
				<top offset="1" />
				<right offset="-1" />
			</anchored>
			<invisible />
			<script>
				function onInit()
					Debug.console("close_imagepanel - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("close_imagepanel - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</close>
	</template>
	<template name="help_imagepanel">
		<help>
			<anchored>
				<top offset="1" />
				<right offset="-25" />
			</anchored>
			<invisible />
			<script>
				function onInit()
					Debug.console("help_imagepanel - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("help_imagepanel - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</help>
	</template>
	<template name="button_window_sizedown_base">
		<buttoncontrol>
			<icon normal="button_sizedown" pressed="button_sizedown_down" hover="button_sizedown_hover" />
			<script>
				function onInit()
					Debug.console("button_window_sizedown_base - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_window_sizedown_base - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
				function onButtonPress()
					ImageManager.performSizeDown(window);
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="button_window_sizedown">
		<button_window_sizedown_base>
			<anchored height="24" width="24" />
			<script>
				function onInit()
					Debug.console("button_window_sizedown - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_window_sizedown - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_window_sizedown_base>
	</template>
	<template name="button_window_sizeup_base">
		<buttoncontrol>
			<icon normal="button_sizeup" pressed="button_sizeup_down" hover="button_sizeup_hover" />
			<script>
				function onInit()
					Debug.console("button_window_sizeup_base - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_window_sizeup_base - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
				function onButtonPress()
					ImageManager.performSizeUp(window);
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="button_window_sizeup">
		<button_window_sizeup_base>
			<anchored height="24" width="24" />
			<script>
				function onInit()
					Debug.console("button_window_sizeup - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_window_sizeup - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_window_sizeup_base>
	</template>
	<template name="button_imagewindow_sizeup">
		<button_window_sizeup>
			<anchored position="insidetopright" offset="52,4" />
			<script>
				function onInit()
					Debug.console("button_imagewindow_sizeup - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_imagewindow_sizeup - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_window_sizeup>
	</template>
	<template name="button_imagebackpanel_sizedown">
		<button_window_sizedown>
			<anchored position="insidetopright" offset="73,1" />
			<invisible />
			<script>
				function onInit()
					Debug.console("button_imagebackpanel_sizedown - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_imagebackpanel_sizedown - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_window_sizedown>
	</template>
	<template name="button_imagebackpanel_sizeup">
		<button_window_sizeup>
			<anchored position="insidetopright" offset="49,1" />
			<invisible />
			<script>
				function onInit()
					Debug.console("button_imagebackpanel_sizeup - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_imagebackpanel_sizeup - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_window_sizeup>
	</template>
	<template name="button_imagefullpanel_sizedown">
		<button_window_sizedown>
			<anchored position="insidetopright" offset="49,1" />
			<invisible />
			<script>
				function onInit()
					Debug.console("button_imagefullpanel_sizedown - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_imagefullpanel_sizedown - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_window_sizedown>
	</template>
	<template name="close_storybox">
		<close>
			<anchored>
				<top offset="3" />
				<right offset="-2" />
			</anchored>
			<script>
				function onInit()
					Debug.console("close_storybox - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("close_storybox - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</close>
	</template>
	<template name="story_page_top">
		<button_content_page_top>
			<anchored to="contentframe">
				<top anchor="bottom" offset="10" />
				<left anchor="center" offset="-10" />
			</anchored>
			<script>
				function onInit()
					Debug.console("story_page_top - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("story_page_top - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_content_page_top>
	</template>
	<template name="story_page_prev">
		<button_content_page_prev>
			<anchored to="contentframe">
				<top anchor="bottom" offset="10" />
				<right anchor="center" offset="-40" />
			</anchored>
			<script>
				function onInit()
					Debug.console("story_page_prev - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("story_page_prev - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_content_page_prev>
	</template>
	<template name="story_page_next">
		<button_content_page_next>
			<anchored to="contentframe">
				<top anchor="bottom" offset="10" />
				<left anchor="center" offset="40" />
			</anchored>
			<script>
				function onInit()
					Debug.console("story_page_next - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("story_page_next - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_content_page_next>
	</template>
	<template name="frame_story_content">
		<genericcontrol name="contentframe">
			<anchored>
				<top parent="header" anchor="bottom" offset="15" />
				<left offset="35" />
				<right offset="-42" />
				<bottom offset="-45" />
			</anchored>
			<frame name="groupbox" offset="15,15,25,15" />
			<disabled />
			<script>
				function onInit()
					Debug.console("frame_story_content - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("frame_story_content - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="frame_record">
		<genericcontrol>
			<frame name="groupbox" />
			<script>
				function onInit()
					Debug.console("frame_record - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("frame_record - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="button_record_activateid">
		<button_activateid>
			<anchored to="rightanchor" width="23" height="22">
				<top offset="-2" />
				<right anchor="left" relation="relative" offset="-5" />
			</anchored>
			<script>
				function onInit()
					Debug.console("button_record_activateid - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_record_activateid - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_activateid>
	</template>
	<template name="icon_record_locked">
		<genericcontrol name="hardlocked">
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right anchor="left" relation="relative" offset="0" />
			</anchored>
			<icon>record_readonly</icon>
			<tooltip textres="tooltip_readonly" />
			<script>
				function onInit()
					local node = window.getDatabaseNode();
					local bShow = (not node or DB.isReadOnly(node));
					setVisible(bShow);
					Debug.console("icon_record_locked - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("icon_record_locked - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="sub_record_header">
		<subwindow>
			<anchored>
				<top offset="23" />
				<left offset="15" />
				<right offset="-15" />
			</anchored>
			<activate />
			<fastinit />
			<script>
				function onInit()
					Debug.console("sub_record_header - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("sub_record_header - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</subwindow>
	</template>
	<template name="anchor_record_header_right">
		<anchor_listitem_right_lg>
			<script>
				function onInit()
					Debug.console("anchor_record_header_right - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("anchor_record_header_right - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</anchor_listitem_right_lg>
	</template>
	<template name="anchor_record_image_header_right">
		<genericcontrol name="rightanchor">
			<anchored height="0" width="0">
				<top offset="10" />
				<right offset="-65" />
			</anchored>
			<script>
				function onInit()
					Debug.console("anchor_record_image_header_right - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("anchor_record_image_header_right - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="link_record_header">
		<linkcontrol_record>
			<bounds>5,10,20,20</bounds>
			<script>
				function onInit()
					Debug.console("link_record_header - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("link_record_header - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</linkcontrol_record>
	</template>
	<template name="label_recordtype">
		<label>
			<anchored to="name" position="belowleft" offset="0,7">
				<right parent="" offset="-25" />
			</anchored>
			<script>
				function onInit()
					setVisible(not isEmpty());
					Debug.console("label_recordtype - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("label_recordtype - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</label>
	</template>
	<template name="spacer_recordtype">
		<genericcontrol>
			<anchored to="name" position="below" height="10" />
			<disabled />
			<script>
				function onInit()
					Debug.console("spacer_recordtype - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("spacer_recordtype - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="string_record_name">
		<stringfield>
			<anchored mergerule="replace">
				<top offset="10" />
				<left offset="40" />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-15" />
			</anchored>
			<frame name="groupbox" offset="15,10,15,10" />
			<font>recordsheet_header</font>
			<multilinespacing>20</multilinespacing>
			<nodrag />
			<delaykeyupdate />
			<script>
				function onInit()
					Debug.console("string_record_name - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("string_record_name - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</stringfield>
	</template>
	<template name="string_record_name_id">
		<string_record_name>
			<script>
				function onInit()
					Debug.console("string_record_name_id - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("string_record_name_id - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
				function onValueChanged()
					if window.onNameUpdated then
						window.onNameUpdated();
					end
					if window.parentcontrol and window.parentcontrol.window.onNameUpdated then
						window.parentcontrol.window.onNameUpdated();
					end
				end
			</script>
		</string_record_name>
	</template>
	<template name="string_record_name_image">
		<string_record_name_id>
			<anchored height="20" merge="merge" />
			<font>imagebox_header</font>
			<multilinespacing merge="delete" />
			<script>
				function onInit()
					Debug.console("string_record_name_image - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("string_record_name_image - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</string_record_name_id>
	</template>
	<template name="string_record_name_npc">
		<string_record_name_id>
			<font>npcsheet_header</font>
			<script>
				function onInit()
					Debug.console("string_record_name_npc - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("string_record_name_npc - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</string_record_name_id>
	</template>
	<template name="string_record_name_story">
		<string_record_name>
			<font>storybox_header</font>
			<multilinespacing>25</multilinespacing>
			<script>
				function onInit()
					Debug.console("string_record_name_story - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("string_record_name_story - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</string_record_name>
	</template>
	<template name="string_record_name_ref">
		<string_record_name>
			<anchored merge="merge">
				<right parent="" anchor="right" relation="absolute" offset="-35" />
			</anchored>
			<readonly />
			<script>
				function onInit()
					Debug.console("string_record_name_ref - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("string_record_name_ref - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</string_record_name>
	</template>
	<template name="button_ichat">
		<button_icon name="button_ichat">
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right relation="relative" offset="-5" postoffet="-5" />
			</anchored>
			<icon normal="button_toolbar_chat" />
			<tooltip textres="record_toolbar_chat" />
			<tintable />
			<script>
				function onInit()
					if super and super.onInit then
						super.onInit();
					end
					Debug.console("button_ichat - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_ichat - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
				function onButtonPress()
					RecordShareManager.onShareButtonPressed(window);
				end
			</script>
		</button_icon>
	</template>
	<windowclass name="record_header_simple">
		<script file="common/scripts/record_header_simple.lua" />
		<sheetdata>
			<anchor_content_record_header_top />
			<anchor_content_record_header_left />
			<anchor_content_record_header_right />
			<string_record_header_name name="name" />
		</sheetdata>
	</windowclass>
	<template name="button_folder_sm">
		<button_text_sm>
			<state textres="button_folder" />
			<script>
				function onInit()
					Debug.console("button_folder_sm - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_folder_sm - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
				function onButtonPress()
					if folder then
						Interface.openCampaignFolder(folder[1]);
					else
						Interface.openCampaignFolder();
					end
				end
			</script>
		</button_text_sm>
	</template>
	<template name="button_folder_image">
		<button_folder_sm>
			<anchored to="buttonanchor" width="50">
				<top />
				<left anchor="right" relation="relative" offset="5" />
			</anchored>
			<folder>images</folder>
			<script>
				function onInit()
					Debug.console("button_folder_image - DEPRECATED - 2024-03-05");
					ChatManager.SystemMessage("button_folder_image - DEPRECATED - 2024-03 - Contact ruleset/extension/forge author");
				end
			</script>
		</button_folder_sm>
	</template>
	<template name="list_utility">
		<list_utility_base>
			<useallmodules />
			<allowdelete />
			<sortby><control>label</control></sortby>
			<childfocus>label</childfocus>
			<script file="common/scripts/list_utility.lua" />
		</list_utility_base>
	</template>

	<!-- DEPRECATED - 2023-12-12 (Long Release) - 2025-03 (Chat Announcement) -->
	<template name="anchor_title_charsheet">
		<genericcontrol>
			<anchored height="0">
				<top offset="35" />
				<left parent="" anchor="left" offset="15" />
				<right parent="" anchor="right" offset="-30" />
			</anchored>
			<disabled />
			<script>
				function onInit()
					Debug.console("anchor_title_charsheet - DEPRECATED - 2023-12 - Use new character layout templates");
					ChatManager.SystemMessage("anchor_title_charsheet - DEPRECATED - 2023-12 - Contact ruleset/extension/forge author");
				end
			</script>
		</genericcontrol>
	</template>
	<template name="token_record_header">
		<tokenfield name="token">
			<anchored to="rightanchor" width="25" height="25">
				<top offset="-2" />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-3" />
			</anchored>
			<empty>token_empty</empty>
			<script>
				function onInit()
					Debug.console("token_record_header - DEPRECATED - 2023-12 - Use new header implementation");
					ChatManager.SystemMessage("token_record_header - DEPRECATED - 2023-12 - Contact ruleset/extension/forge author");
				end
				function onDragStart(button, x, y, draginfo)
					draginfo.setType("token");
					draginfo.setTokenData(getValue());
					local sRecordPath = window.getDatabasePath();
					if sRecordPath then
						draginfo.setShortcutData(UtilityManager.getTopWindow(window).getClass(), sRecordPath);
					end
					return true;
				end
				function onDoubleClick(x, y)
					CombatManager.openMap(window.getDatabaseNode());
				end
			</script>
		</tokenfield>
	</template>
	<template name="token_char">
		<tokenfield>
			<empty>token_empty</empty>
			<script>
				function onInit()
					Debug.console("token_char - DEPRECATED - 2023-12 - Use new header implementation");
					ChatManager.SystemMessage("token_char - DEPRECATED - 2023-12 - Contact ruleset/extension/forge author");
				end
				function onDragStart(button, x, y, draginfo)
					return RecordAssetManager.handlePictureDragStart(window.getDatabaseNode(), draginfo);
				end
				function onDoubleClick(x, y)
					CombatManager.openMap(window.getDatabaseNode());
				end
			</script>
		</tokenfield>
	</template>
	<template name="portrait_char">
		<genericcontrol>
			<tooltip textres="char_tooltip_portrait" />
			<script>
				function onInit()
					local nodeChar = window.getDatabaseNode();
					if nodeChar then
						local nodeCharName = DB.getName(nodeChar);
						if nodeCharName then
							setIcon("portrait_" .. nodeCharName .. "_charlist", true);
						end
					end
					Debug.console("portrait_char - DEPRECATED - 2023-12 - Use new header implementation");
					ChatManager.SystemMessage("portrait_char - DEPRECATED - 2023-12 - Contact ruleset/extension/forge author");
				end
				function onDragStart(button, x, y, draginfo)
					return RecordAssetManager.handlePictureDragStart(window.getDatabaseNode(), draginfo);
				end
				function onClickDown(button, x, y)
					return true;
				end
				function onClickRelease(button, x, y)
					local nodeChar = window.getDatabaseNode();
					if nodeChar then
						local wnd = Interface.openWindow("portrait_select", "");
						if wnd then
							wnd.setLocalNode(nodeChar);
						end
					end
				end
				function onDrop(x, y, draginfo)
					local sAsset = draginfo.getTokenData();
					if (sAsset or "") ~= "" then
						RecordAssetManager.setCharPortrait(window.getDatabaseNode(), sAsset);
					end
				end
			</script>
		</genericcontrol>
	</template>

	<!-- DEPRECATED (2024-08) -->
	<template name="subwindow_record">
		<subwindow>
			<anchored to="contentframe" position="over" />
			<script>
				function onInit()
					Debug.console("subwindow_record - DEPRECATED - 2024-08 - Use new record window and layout implementation");
				end
			</script>
		</subwindow>
	</template>
	<template name="scrollbar_record">
		<scrollbar>
			<anchored to="contentframe" />
			<script>
				function onInit()
					Debug.console("scrollbar_record - DEPRECATED - 2024-08 - Use new record window and layout implementation");
				end
			</script>
		</scrollbar>
	</template>
	<template name="ft_record">
		<simpleft>
			<script>
				function onInit()
					Debug.console("ft_record - DEPRECATED - 2024-08 - Use new record window and layout implementation");
				end
			</script>
		</simpleft>
	</template>

	<!-- DEPRECATED (2024-08) -->
	<template name="close_base">
		<buttoncontrol name="button_close">
			<icon normal="button_close" pressed="button_close_down" hover="button_close_hover" />
			<script>
				function onInit()
					Debug.console("close_base - DEPRECATED - 2024-08 - Use new window menu implementation");
				end
				function onButtonPress()
					local wTop = UtilityManager.getTopWindow(window);
					local sClass = wTop.getClass();
					if StringManager.contains({ "imagebackpanel", "imagemaxpanel", "imagefullpanel", }, sClass) then
						ImageManager.closePanel();
					else
						wTop.close();
					end
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="close">
		<close_base>
			<anchored height="24" width="24">
				<top />
				<right />
			</anchored>
			<script>
				function onInit()
					Debug.console("close - DEPRECATED - 2024-08 - Use new window menu implementation");
				end
			</script>
		</close_base>
	</template>
	<template name="help_base">
		<buttoncontrol name="button_help">
			<icon normal="button_help" pressed="button_help_down" hover="button_help_hover" />
			<script>
				function onInit()
					Debug.console("help_base - DEPRECATED - 2024-08 - Use new window menu implementation");
				end
				function onButtonPress()
					local sURL = nil;
					if urlres then
						sURL = Interface.getString(urlres[1]);
					elseif url then
						sURL = url[1];
					else
						local wTop = UtilityManager.getTopWindow(window);
						if wTop.helplinkres then
							sURL = Interface.getString(wTop.helplinkres[1]);
						elseif wTop.helplink then
							sURL = wTop.helplink[1];
						end
					end
					UtilityManager.sendToHelpLink(sURL);
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="help">
		<help_base>
			<anchored height="24" width="24">
				<top />
				<right offset="-24" />
			</anchored>
			<script>
				function onInit()
					Debug.console("help - DEPRECATED - 2024-08 - Use new window menu implementation");
				end
			</script>
		</help_base>
	</template>
	<template name="close_charsheet">
		<close>
			<anchored>
				<top offset="12" />
				<right offset="-12" />
			</anchored>
			<script>
				function onInit()
					Debug.console("close_charsheet - DEPRECATED - 2024-08 - Use new window menu implementation");
				end
			</script>
		</close>
	</template>
	<template name="sub_charsheet_overview">
		<subwindow>
			<anchored position="insidetopleft" offset="25,20">
				<right offset="-25" />
			</anchored>
			<activate />
			<fastinit />
			<class>charsheet_overview</class>
			<script>
				function onInit()
					Debug.console("sub_charsheet_overview - DEPRECATED - 2024-08 - Use new record window and layout implementation");
				end
			</script>
		</subwindow>
	</template>
	<template name="sub_charsheet">
		<subwindow>
			<anchored>
				<left offset="15" />
				<top parent="overview" anchor="bottom" offset="0" />
				<right offset="-15" />
				<bottom offset="-20" />
			</anchored>
			<script>
				function onInit()
					Debug.console("sub_charsheet - DEPRECATED - 2024-08 - Use new record window and layout implementation");
				end
			</script>
		</subwindow>
	</template>
	<template name="close_charsheethelper">
		<close>
			<anchored>
				<top offset="1" />
				<right offset="0" />
			</anchored>
			<script>
				function onInit()
					Debug.console("close_charsheethelper - DEPRECATED - 2024-08 - Use new window menu implementation");
				end
			</script>
		</close>
	</template>
	<template name="anchor_title_charsheethelper">
		<genericcontrol>
			<anchored height="0">
				<top parent="title" anchor="bottom" offset="0" />
				<left parent="" anchor="left" offset="20" />
				<right parent="" anchor="right" offset="-20" />
			</anchored>
			<disabled />
			<script>
				function onInit()
					Debug.console("anchor_title_charsheethelper - DEPRECATED - 2024-08 - Use new record window and layout implementation");
				end
			</script>
		</genericcontrol>
	</template>

	<!-- TO BE DEPRECATED (2025-03) (Long Release) -->
	<template name="masterindexcategory_idelete">
		<button_idelete>
			<anchored to="rightanchor">
				<top />
				<right anchor="left" relation="relative" offset="-5" />
			</anchored>
		</button_idelete>
	</template>
	<template name="button_masterindexitem_idelete">
		<button_listitem_idelete>
			<editmode>list_iedit</editmode>
			<script>
				function onInit()
					super.onInit();

					if DB.isStatic(window.getDatabaseNode()) then
						self.setStaticDisplay();
					end
				end
				function setStaticDisplay()
					setReadOnly(true);
					setFrame("fieldlight", 4,4,4,4);
					setStateIcons(0, "button_toolbar_readonly");
					setStateColor(0, UtilityManager.getControlFontColor(window, "name"));
					setTooltipText(Interface.getString("button_toolbar_readonly"));
				end
			</script>
		</button_listitem_idelete>
	</template>

	<template name="number_charinv">
		<basicnumber>
			<nodrag />
			<hideonvalue>0</hideonvalue>
			<min>0</min>
		</basicnumber>
	</template>
	<template name="string_charinvname">
		<string_textlistitem>
			<nodrop />
			<script file="campaign/scripts/char_invname.lua" />
		</string_textlistitem>
	</template>
	<template name="string_charinvloc">
		<string_textlistitem>
			<nodrop />
			<delaykeyupdate merge="delete" />
			<script file="campaign/scripts/char_invloc.lua" />
		</string_textlistitem>
	</template>

 	<template name="anchor_listitem_left_encounter">
		<genericcontrol name="leftanchor">
			<anchored position="insidetopleft" height="30" width="0" />
		</genericcontrol>
	</template>
	<template name="token_listitem_encounter">
		<token_listitem_left name="token">
			<script>
				function onValueChanged()
					if window.synchTokenView then window.synchTokenView(); end
				end
			</script>
		</token_listitem_left>
	</template>
	<template name="string_listitem_name_encounter">
		<string_listitem_center_underline name="name" />
	</template>
	<template name="number_listitem_count_encounter">
		<number_listitem_left name="count">
			<anchored width="25" />
			<default>1</default>
			<min>1</min>
			<script>
				function onValueChanged()
					window.synchToCount();
				end
			</script>
		</number_listitem_left>
	</template>
	<template name="string_listitem_expr_encounterrandom">
		<string_listitem_left name="expr">
			<anchored width="60" />
			<empty textres="battlerandom_empty_expr" />
			<center />
		</string_listitem_left>
	</template>

	<template name="number_parcel">
		<number_dropadd>
			<anchored width="25" height="20">
				<top parent="rightanchor" />
				<left offset="5" />
			</anchored>
		</number_dropadd>
	</template>
	<template name="string_parcel">
		<string_textlistitem>
			<anchored>
				<left offset="40" />
				<top parent="rightanchor" />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
			</anchored>
			<frame />
			<multilinespacing>20</multilinespacing>
		</string_textlistitem>
	</template>
	<template name="button_parcel_id_all">
		<buttoncontrol>
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right anchor="left" relation="relative" offset="-5" />
			</anchored>
			<frame name="fieldlight" offset="7,7,7,7" />
			<icon normal="record_identified" />
			<tooltip textres="parcel_tooltip_id_all" />
			<gmvisibleonly />
			<script>
				function onButtonPress()
					for _,nodeItem in ipairs(DB.getChildList(window.getDatabaseNode(), "itemlist")) do
						DB.setValue(nodeItem, "isidentified", "number", 1);
					end
				end
			</script>
		</buttoncontrol>
	</template>

	<template name="string_textlistitem">
		<stringu>
			<delaykeyupdate />
			<script file="common/scripts/list_textitem.lua" />
		</stringu>
	</template>
	<template name="anchor_listitem_column_right">
		<anchor_listitem_right_sm />
	</template>
	<template name="link_listitem_column">
		<linkcontrol_record name="shortcut">
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right anchor="left" relation="relative" offset="-5" />
			</anchored>
		</linkcontrol_record>
	</template>
	<template name="button_listitem_column_delete">
		<button_idelete name="idelete">
			<anchored to="rightanchor">
				<top />
				<right anchor="left" offset="-5" />
			</anchored>
		</button_idelete>
	</template>
	<template name="string_listitem_column_name">
		<stringfield name="name">
			<anchored position="insidetopleft" offset="5,2">
				<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
			</anchored>
			<font>sheetlabel</font>
			<multilinespacing>20</multilinespacing>
		</stringfield>
	</template>
	<template name="string_listitem_right_text">
		<string_textlistitem>
			<anchored to="rightanchor" width="80" height="20">
				<top />
				<right relation="relative" offset="-5" postoffset="-5" />
			</anchored>
			<delaykeyupdate />
		</string_textlistitem>
	</template>
	<template name="string_listitem_center_text">
		<string_textlistitem>
			<anchored to="rightanchor" height="20">
				<top />
				<left parent="leftanchor" relation="current" offset="5" />
				<right relation="current" offset="-5" />
			</anchored>
			<delaykeyupdate />
		</string_textlistitem>
	</template>

	<template name="linkfield_statich">
		<linkfield>
			<invisible />
			<readonly />
			<script>
				function onInit()
					self.onValueChanged();
				end
				function onValueChanged()
					setVisible(not isEmpty());
				end
			</script>
		</linkfield>
	</template>

	<template name="button_charweaponcarried">
		<button_listitem_carried_left />
	</template>
</root>
